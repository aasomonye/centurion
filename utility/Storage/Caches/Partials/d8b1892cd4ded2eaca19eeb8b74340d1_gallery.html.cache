<div class="card">
    <div class="table-responsive">
        <table class="table card-table table-vcenter text-nowrap datatable">
            <thead>
                <th>Image</th>
                <th>Image Name</th>
                <th>Image Caption</th>
                <th>Published</th>
                <th>Date Created</th>
                <th>Action</th>
            </thead>
            
            <tbody>
                <?php $images = \Moorexa\Rexa::runDirective(true,'getImages',100);?>

                <?php
$images = $images;if ($images->rows > 0){
while ($image = $images->obj())
{ ?>
                    <tr class="tr-row">
                        <td><img src="<?=$assets->image("$image->image")?>" class="img-responsive" style="max-width: 50px;"></td>
                        <td><?=$image->image_name?></td>
                        <td><?=substr($image->image_caption, 0, 50)?></td>
                        <td><?=$image->publish == 1 ? 'Yes' : 'No'?></td>
                        <td><?=get_time_ago($image->date_created)?></td>
                        <td>
                            <?=\Moorexa\Rexa::runDirective(true,'component','table-button', ['links' => CMS::loadButton(['edit' => 'plugins/gallery/edit', 'delete' => 'plugins/gallery/delete'], $image->imageid)])?>
                        </td>
                    </tr>
                <?php }} ?>
            </tbody>
        </table>
    </div>
</div>